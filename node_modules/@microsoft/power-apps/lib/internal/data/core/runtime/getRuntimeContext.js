/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */
import { getPowerDataRuntime } from './powerDataRuntimeInstance';
import { getExecutor } from './initializeRuntime';
import PowerDataSourcesInfoProvider from './powerDataSourcesInfoProvider';
import { getIsInitializedPromise } from '../../../../app/Lifecycle';
/**
 * Builds (or retrieves) a singleton runtime context based on provided data sources.
 * Must be called after initializeRuntime() has injected the OperationExecutor.
 */
export async function getPowerSdkInstance(dataSourcesInfo) {
    await getIsInitializedPromise();
    const executor = getExecutor(); // from initializeRuntime.ts
    const provider = PowerDataSourcesInfoProvider.getInstance(dataSourcesInfo);
    return getPowerDataRuntime(provider, executor);
}
//# sourceMappingURL=getRuntimeContext.js.map